(self["webpackChunkadmins"]=self["webpackChunkadmins"]||[]).push([[982],{4100:function(t,e,a){var n=a(701);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=a(56).Z;o("84048fe2",n,!0,{sourceMap:!1,shadowMode:!1})},5713:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var n,o={uForm:a(6036).Z,uFormItem:a(8701).Z,uCheckboxGroup:a(3464).Z,uCheckbox:a(8975).Z,"u-Form":a(7421).Z,uButton:a(1565).Z,uDatetimePicker:a(4717).Z,"u-Input":a(8134).Z,"u-Textarea":a(105).Z,uModal:a(7309).Z},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content"},[a("u-form",[a("u-form-item",{attrs:{label:"参与者",labelWidth:"200rpx",required:!0}})],1),a("u-checkbox-group",{attrs:{placement:"column",name:"选择",size:"32"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.checkboxGroupChange.apply(void 0,arguments)}},model:{value:t.checkedData,callback:function(e){t.checkedData=e},expression:"checkedData"}},t._l(t.list,(function(e,n){return a("u-checkbox",{key:n,staticStyle:{margin:"10rpx 20rpx"},attrs:{name:e.name,label:e.name},model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"item.checked"}})})),1),a("u--form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,labelPosition:"top"}},[a("u-form-item",{attrs:{prop:"date",label:"日期",labelWidth:"200rpx",required:!0}},[a("u-button",{staticClass:"select_month",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.dateShow=!0}}},[a("v-uni-view",{staticClass:"la"},[t._v("选择记录的日期-----------")]),a("v-uni-text",{staticClass:"content"},[t._v(t._s(t.changeDate||"请选择日期"))])],1)],1),a("u-form-item",[a("v-uni-view",[a("u-datetime-picker",{attrs:{show:t.dateShow,mode:"date"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.chonfirmDate.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.dateShow=!1}},model:{value:t.selectDate,callback:function(e){t.selectDate=e},expression:"selectDate"}})],1)],1),a("u-form-item",{attrs:{prop:"password",label:"合计（不带单位）",labelWidth:"100%",required:!0}},[a("u--input",{attrs:{clearable:!0,border:"surround",placeholder:"合计"},model:{value:t.loginForm.total,callback:function(e){t.$set(t.loginForm,"total",e)},expression:"loginForm.total"}})],1),a("u-form-item",{attrs:{prop:"password",label:"备注",labelWidth:"200rpx",required:!0}},[a("u--textarea",{staticStyle:{border:"1px solid #000"},attrs:{placeholder:"备注",border:"surround",height:"20vh"},model:{value:t.loginForm.remark,callback:function(e){t.$set(t.loginForm,"remark",e)},expression:"loginForm.remark"}})],1),a("u-button",{staticClass:"button-style",staticStyle:{background:"#ee3f4d"},attrs:{fontSize:"18",type:"primary",size:"normal",text:"提交记录",shape:"square"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitForm.apply(void 0,arguments)}}}),a("u-button",{staticClass:"button-style",staticStyle:{background:"#f1939c"},attrs:{fontSize:"18",type:"primary",size:"normal",text:"查看记录",shape:"square"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.linkMonth.apply(void 0,arguments)}}}),a("u-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"button-style",staticStyle:{background:"#f40"},attrs:{fontSize:"18",type:"primary",size:"normal",text:"导出",shape:"square"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.exportFile.apply(void 0,arguments)}}})],1),a("br"),a("u-modal",{attrs:{show:t.modalshow,title:t.title,content:t.content},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.modalshow=!1}}})],1)},l=[],r=a(6407),s=a(4587),c=a(7028),u=(a(9653),a(561),a(7658),a(8264),a(9575),a(1539),a(2472),a(8675),a(2990),a(8927),a(3105),a(5035),a(4345),a(7174),a(3408),a(2958),a(2846),a(4731),a(7209),a(6319),a(8867),a(7789),a(3739),a(9368),a(4483),a(2056),a(3462),a(678),a(7462),a(3824),a(2974),a(5016),a(8783),a(3948),a(285),a(1637),a(1249),a(8862),a(6699),a(2023),{data:function(){var t;return t={title:"hello",loginForm:{date:"",total:"",remark:"",zhou:"",xiao:"",wan:""},dateShow:!1,modalshow:!1},(0,c.Z)(t,"title","提示"),(0,c.Z)(t,"changeDate",(new Date).getMonth()+1+"."+(new Date).getDate()),(0,c.Z)(t,"selectDate",Number(new Date)),(0,c.Z)(t,"content",""),(0,c.Z)(t,"list",[{name:"周",checked:!0,key:"zhou",disabled:!1},{name:"肖",checked:!0,key:"xiao",disabled:!1},{name:"万",checked:!0,key:"wan",disabled:!1}]),(0,c.Z)(t,"checkedData",[]),(0,c.Z)(t,"newObj",{}),t},watch:{selectDate:{handler:function(t){this.changeDate=new Date(this.selectDate).getMonth()+1+"."+new Date(this.selectDate).getDate()}}},onLoad:function(){var t=[];this.list[0].checked=!0;var e=this.list[0];this.list.splice(0,1,e),t.push("周"),this.list[1].checked=!0;var a=this.list[1];this.list.splice(1,1,a),t.push("肖"),this.list[2].checked=!0;var n=this.list[2];this.list.splice(2,1,n),t.push("万"),this.checkedData=t},onReady:function(){var t=new Date,e=t.getMonth()+1+".",a=t.getDate()+"";this.loginForm.date=this.selectDate,this.loginForm.date=e+a},onBackPress:function(t){if("backbutton"===t.from)return uni.navigateTo({url:"/pages/menu/index"}),!0},methods:{chonfirmDate:function(t){this.loginForm.date=new Date(t.value).getFullYear()+"年"+Number(new Date(t.value).getMonth()+1)+"月",this.dateShow=!1},exportFile:function(){var t=this;this.$api.exportFile().then((function(e){200==e.code&&t.saveFile(e.data.data,"月度记录")}))},saveFile:function(t,e){for(var a=t.length,n=new ArrayBuffer(a),o=new Uint8Array(n),i=0;i<a;++i)o[i]=t[i];var l=new Blob([o],{type:"application/vnd.ms-excel"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(l,e);else{var r=URL.createObjectURL(l),s=document.createElement("a");s.style.display="none",s.href=r,s.download="".concat(e,".xlsx"),s.click(),URL.revokeObjectURL(s.href)}},linkMonth:function(){uni.navigateTo({url:"/pages/show/month"})},submitForm:function(){var t=this;return(0,s.Z)((0,r.Z)().mark((function e(){var a,n,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,t.list.map((function(e){if(e.checked){var n=e.key;a.loginForm[n]=!0,console.log(t.loginForm,"loginform")}})),n=JSON.parse(JSON.stringify(t.loginForm)),t.newObj=n,console.log(n,"newObj"),n.date=t.changeDate,n.wan&&n.zhou&&n.xiao?n.wan=n.xiao=n.zhou=(n.total/3).toFixed(2):n.wan&&n.zhou&&!n.xiao?n.wan=n.zhou=(n.total/2).toFixed(2):n.wan&&!n.zhou&&n.xiao?n.wan=n.xiao=(n.total/2).toFixed(2):!n.wan&&n.zhou&&n.xiao?n.zhou=n.xiao=(n.total/2).toFixed(2):n.wan||n.zhou||!n.xiao?n.wan||!n.zhou||n.xiao?!n.wan||n.zhou||n.xiao||(n.wan=n.total):n.zhou=n.total:n.xiao=n.total,console.log(t.newObj,t.loginForm,"newabject"),e.next=10,t.$api.add(t.newObj);case 10:o=e.sent,200==o.code&&(t.modalshow=!0,t.content="记录添加成功");case 12:case"end":return e.stop()}}),e)})))()},checkboxGroupChange:function(t){var e=this;this.list.map((function(a,n){t.join().includes(a.name)?e.list[n].checked=!0:e.list[n].checked=!1})),console.log(this.list,"this.list[index].checked",t)}}}),d=u,h=(a(4100),a(9453)),m=(0,h.Z)(d,i,l,!1,null,"31090a02",null,!1,o,n),p=m.exports},701:function(t,e,a){"use strict";a.r(e);var n=a(8081),o=a.n(n),i=a(3645),l=a.n(i),r=l()(o());r.push([t.id,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 全站页面背景色 */\n/* 栏目颜色*/\n/* 黑色标题 */\n/*灰色字体 */\n/*次要文字颜色*/\n/* 边框色 */\n/* 亮黄色 */\n/* 浅黄色button */\n/*问题详情色号*/\n/* 主题蓝色*/.content[data-v-31090a02]{font-weight:700;padding:0 30px}.u-input[data-v-31090a02]{border:1px solid #000}.login-form .button-style[data-v-31090a02]{border-color:#4d573a;background-color:#4d573a;color:#fff;font-weight:700;margin-top:%?40?%;font-size:%?60?%!important}.login-form[data-v-31090a02]  .u-form-item__body__right__message{margin-left:0!important}.login-form[data-v-31090a02]  .u-icon__icon{font-size:%?40?%!important;font-weight:bolder!important;vertical-align:middle;color:#4d573a!important}.login-form[data-v-31090a02]  .u-form-item__body__left__content__label{margin-bottom:0!important}.login-form .reset[data-v-31090a02]{margin-top:%?40?%;color:#999;text-align:center;font-size:%?28?%}',""]),e["default"]=r}}]);