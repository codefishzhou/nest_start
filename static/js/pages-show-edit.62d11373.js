(self["webpackChunkadmins"]=self["webpackChunkadmins"]||[]).push([[978],{3562:function(t,e,n){var a=n(5776);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var o=n(56).Z;o("1f53c469",a,!0,{sourceMap:!1,shadowMode:!1})},820:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var a,o={uForm:n(6036).Z,uFormItem:n(8701).Z,uCheckboxGroup:n(3464).Z,uCheckbox:n(8975).Z,"u-Form":n(7421).Z,uButton:n(1565).Z,uDatetimePicker:n(4717).Z,"u-Input":n(8134).Z,"u-Textarea":n(105).Z,uModal:n(7309).Z},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("u-form",[n("u-form-item",{attrs:{label:"参与者",labelWidth:"200rpx",required:!0}})],1),n("u-checkbox-group",{ref:"selectBox",attrs:{placement:"column",name:"选择",size:"32"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.checkboxGroupChange.apply(void 0,arguments)}},model:{value:t.checkedData,callback:function(e){t.checkedData=e},expression:"checkedData"}},t._l(t.list,(function(e,a){return n("u-checkbox",{key:a,staticStyle:{margin:"10rpx 20rpx"},attrs:{name:e.name,label:e.name},model:{value:e.checked,callback:function(n){t.$set(e,"checked",n)},expression:"item.checked"}})})),1),n("u--form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,labelPosition:"top"}},[n("u-form-item",{attrs:{prop:"date",label:"日期",labelWidth:"200rpx",required:!0}},[n("u-button",{staticClass:"select_month",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.dateShow=!0}}},[n("v-uni-view",{staticClass:"la"},[t._v("选择记录的日期-----------")]),n("v-uni-text",{staticClass:"content"},[t._v(t._s(t.changeDate||"请选择日期"))])],1)],1),n("u-form-item",[n("v-uni-view",[n("u-datetime-picker",{attrs:{show:t.dateShow,mode:"date"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.chonfirmDate.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.dateShow=!1}},model:{value:t.selectDate,callback:function(e){t.selectDate=e},expression:"selectDate"}})],1)],1),n("u-form-item",{attrs:{prop:"password",label:"合计（不带单位）",labelWidth:"100%",required:!0}},[n("u--input",{attrs:{clearable:!0,border:"surround",placeholder:"合计"},model:{value:t.loginForm.total,callback:function(e){t.$set(t.loginForm,"total",e)},expression:"loginForm.total"}})],1),n("u-form-item",{attrs:{prop:"password",label:"备注",labelWidth:"200rpx",required:!0}},[n("u--textarea",{staticStyle:{border:"1px solid #000"},attrs:{placeholder:"备注",border:"surround",height:"20vh"},model:{value:t.loginForm.remark,callback:function(e){t.$set(t.loginForm,"remark",e)},expression:"loginForm.remark"}})],1),n("u-button",{staticClass:"button-style",staticStyle:{background:"#ee3f4d"},attrs:{fontSize:"18",type:"primary",size:"normal",text:"提交编辑",shape:"square"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitForm.apply(void 0,arguments)}}}),n("u-button",{staticClass:"button-style",staticStyle:{background:"#f1939c"},attrs:{fontSize:"18",type:"primary",size:"normal",text:"查看记录",shape:"square"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.linkMonth.apply(void 0,arguments)}}}),n("u-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"button-style",staticStyle:{background:"#f40"},attrs:{fontSize:"18",type:"primary",size:"normal",text:"导出",shape:"square"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.exportFile.apply(void 0,arguments)}}})],1),n("br"),n("u-modal",{attrs:{show:t.modalshow,title:t.title,content:t.content},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.modalshow=!1}}})],1)},r=[],l=n(6407),s=n(4587),c=n(7028),u=(n(9653),n(561),n(7658),n(6647),n(1539),n(9714),n(8264),n(9575),n(2472),n(8675),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(3408),n(2958),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(2974),n(5016),n(8783),n(3948),n(285),n(1637),n(1249),n(8862),n(6699),n(2023),n(4448)),d={data:function(){var t;return t={title:"hello",loginForm:{date:"",total:"",remark:"",zhou:"",xiao:"",wan:"",id:""},dateShow:!1,modalshow:!1},(0,c.Z)(t,"title","提示"),(0,c.Z)(t,"changeDate",""),(0,c.Z)(t,"selectDate",""),(0,c.Z)(t,"content",""),(0,c.Z)(t,"list",[{name:"周",checked:!0,key:"zhou",disabled:!1},{name:"肖",checked:!0,key:"xiao",disabled:!1},{name:"万",checked:!0,key:"wan",disabled:!1}]),(0,c.Z)(t,"checkedData",[]),(0,c.Z)(t,"newObj",{}),t},watch:{selectDate:{handler:function(t){this.changeDate=new Date(this.selectDate).getMonth()+1+"."+new Date(this.selectDate).getDate()}}},onLoad:function(t){var e=JSON.parse(t.data);this.loginForm=e;var n=e.date.split("."),a=new Date(e.createDate);a.setMonth(Number(n[0]-1)),a.setDate(Number(n[1])),this.selectDate=a+"",console.log(this.selectDate,"this.selectDate"),console.log(e,"-da");var o=[];if(e.zhou){this.list[0].checked=!0;var i=this.list[0];this.list.splice(0,1,i),o.push("周")}if(e.xiao){this.list[1].checked=!0;var r=this.list[1];this.list.splice(1,1,r),o.push("肖")}if(e.wan){this.list[2].checked=!0;var l=this.list[2];this.list.splice(2,1,l),o.push("万")}this.checkedData=o},onReady:function(){},onBackPress:function(t){if("backbutton"===t.from)return uni.navigateTo({url:"/pages/show/month"}),!0},methods:{chonfirmDate:function(t){this.loginForm.date=new Date(t.value).getFullYear()+"年"+Number(new Date(t.value).getMonth()+1)+"月",this.dateShow=!1},exportFile:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=this;exportFile().then((function(e){200==e.code&&t.saveFile(e.data.data,"月度记录")}))})),saveFile:function(t,e){for(var n=t.length,a=new ArrayBuffer(n),o=new Uint8Array(a),i=0;i<n;++i)o[i]=t[i];var r=new Blob([o],{type:"application/vnd.ms-excel"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(r,e);else{var l=URL.createObjectURL(r),s=document.createElement("a");s.style.display="none",s.href=l,s.download="".concat(e,".xlsx"),s.click(),URL.revokeObjectURL(s.href)}},linkMonth:function(){uni.navigateTo({url:"/pages/show/month"})},submitForm:function(){var t=this;return(0,s.Z)((0,l.Z)().mark((function e(){var n,a,o;return(0,l.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t,t.list.map((function(t){if(t.checked){var e=t.key;n.loginForm[e]=!0}})),a=JSON.parse(JSON.stringify(t.loginForm)),t.newObj=a,a.date=t.changeDate,a.wan&&a.zhou&&a.xiao?a.wan=a.xiao=a.zhou=(a.total/3).toFixed(2):a.wan&&a.zhou&&!a.xiao?a.wan=a.zhou=(a.total/2).toFixed(2):a.wan&&!a.zhou&&a.xiao?a.wan=a.xiao=(a.total/2).toFixed(2):!a.wan&&a.zhou&&a.xiao?a.zhou=a.xiao=(a.total/2).toFixed(2):a.wan||a.zhou||!a.xiao?a.wan||!a.zhou||a.xiao?!a.wan||a.zhou||a.xiao||(a.wan=a.total):a.zhou=a.total:a.xiao=a.total,e.next=8,(0,u.editNote)(t.newObj);case 8:o=e.sent,200==o.code&&(t.modalshow=!0,t.content="记录编辑成功");case 10:case"end":return e.stop()}}),e)})))()},checkboxGroupChange:function(t){var e=this;console.log(t,"n"),this.list.map((function(n,a){t.join().includes(n.name)&&(e.list[a].checked=!e.list[a].checked)}))}}},h=d,m=(n(3562),n(9453)),p=(0,m.Z)(h,i,r,!1,null,"01d64d74",null,!1,o,a),f=p.exports},5776:function(t,e,n){"use strict";n.r(e);var a=n(8081),o=n.n(a),i=n(3645),r=n.n(i),l=r()(o());l.push([t.id,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 全站页面背景色 */\n/* 栏目颜色*/\n/* 黑色标题 */\n/*灰色字体 */\n/*次要文字颜色*/\n/* 边框色 */\n/* 亮黄色 */\n/* 浅黄色button */\n/*问题详情色号*/\n/* 主题蓝色*/.content[data-v-01d64d74]{font-weight:700;padding:0 30px}.u-input[data-v-01d64d74]{border:1px solid #000}.login-form .button-style[data-v-01d64d74]{border-color:#4d573a;background-color:#4d573a;color:#fff;font-weight:700;margin-top:%?40?%;font-size:%?60?%!important}.login-form[data-v-01d64d74]  .u-form-item__body__right__message{margin-left:0!important}.login-form[data-v-01d64d74]  .u-icon__icon{font-size:%?40?%!important;font-weight:bolder!important;vertical-align:middle;color:#4d573a!important}.login-form[data-v-01d64d74]  .u-form-item__body__left__content__label{margin-bottom:0!important}.login-form .reset[data-v-01d64d74]{margin-top:%?40?%;color:#999;text-align:center;font-size:%?28?%}',""]),e["default"]=l}}]);